(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,a,t){e.exports=t(132)},132:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(88),o=t.n(c),l=t(38),i=t(16),s=t(181),m=t(193),d=t(188),u=t(178),_=t(73),E=t.n(_);var g=e=>{let{setCurrentCategory:a}=e;const[t,c]=Object(r.useState)(0),[o,l]=Object(r.useState)([]);Object(r.useEffect)(()=>{u.a.get("https://fakestoreapi.com/products/categories").then(e=>e.data).then(e=>l(e)).catch(e=>console.log(e))},[]);return n.a.createElement(d.a,{className:E.a.categories},n.a.createElement(s.a,{orientation:"vertical",value:t,onChange:(e,a)=>{c(a)},"aria-label":"Vertical tabs example",className:E.a.tabs},n.a.createElement(m.a,{label:"All",onClick:()=>{a("/")}}),o.map((e,t)=>n.a.createElement(m.a,{key:t,label:e,onClick:()=>{a("/category/".concat(e))}}))))},p=t(194),v=t(195),C=t(141),f=t(183),b=t(42),N=t.n(b),h=t(62),y=t.n(h),O=t(186),S=t(61),x=t.n(S),B=t(74),k=t.n(B);var I=e=>{const{good:a,goods:t,cart:c,setCart:o}=e,[l,i]=Object(r.useState)(!1);function s(){l?function(){const e=c.filter(e=>e.id!==a.id);o(e),localStorage.setItem("cart",JSON.stringify(e))}():function(){const e=[...c,a];o(e),localStorage.setItem("cart",JSON.stringify(e))}(),i(!l)}return Object(r.useEffect)(()=>{const e=c.some(e=>e.id===a.id);i(e)},[t]),n.a.createElement(O.a,{color:"primary",onClick:()=>{s()}},n.a.createElement(y.a,{className:x()(k.a.cartIcon,{[k.a.active]:l})}))},P=t(63),j=t.n(P),F=t(75),J=t.n(F);var M=e=>{const{good:a,goods:t,favourites:c,setFavourites:o}=e,[l,i]=Object(r.useState)(!1);function s(){l?function(){const e=c.filter(e=>e.id!==a.id);o(e),localStorage.setItem("favourites",JSON.stringify(e))}():function(){const e=[...c,a];o(e),localStorage.setItem("favourites",JSON.stringify(e))}(),i(!l)}return Object(r.useEffect)(()=>{const e=c.some(e=>e.id===a.id);i(e)},[t]),n.a.createElement(O.a,{color:"primary",onClick:()=>{s()}},n.a.createElement(j.a,{className:x()(J.a.favoriteIcon,{[J.a.active]:l})}))};var w=e=>{const{good:a,goods:t,favourites:r,setFavourites:c,cart:o,setCart:i}=e;return n.a.createElement(p.a,{className:N.a.card},n.a.createElement("div",{className:N.a.imageContainer},n.a.createElement("img",{src:a.image,alt:a.title,className:N.a.image})),n.a.createElement(v.a,{className:N.a.cardContent},n.a.createElement(C.a,{variant:"h5",component:"div"},n.a.createElement(l.b,{to:"/product/".concat(a.id)},a.title)),n.a.createElement(C.a,{variant:"subtitle1",color:"text.secondary"},"\u0426\u0435\u043d\u0430: ",a.price),n.a.createElement(C.a,{className:N.a.description,variant:"body2",color:"text.secondary"},a.description),n.a.createElement(d.a,{className:N.a.ratingContainer,component:"fieldset",mb:3},n.a.createElement(C.a,{component:"legend"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433:"),n.a.createElement(f.a,{name:"read-only",value:a.rating.rate,readOnly:!0})),n.a.createElement(C.a,{variant:"subtitle2",color:"text.secondary"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438: ",a.rating.count),n.a.createElement("div",null,n.a.createElement(I,{good:a,goods:t,setCart:i,cart:o}),n.a.createElement(M,{good:a,goods:t,setFavourites:c,favourites:r}))))},T=t(93),z=t.n(T);function A(e){const{setCart:a,cart:t,setFavourites:c,favourites:o}=e,[l,i]=Object(r.useState)([]),[s,m]=Object(r.useState)("");return Object(r.useEffect)(()=>{u.a.get("https://fakestoreapi.com/products".concat(s)).then(e=>e.data).then(e=>i(e)).catch(e=>console.log(e))},[s]),Object(r.useEffect)(()=>{const e=localStorage.getItem("favourites"),t=localStorage.getItem("cart");e&&c(JSON.parse(e)),t&&a(JSON.parse(t))},[]),n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement(g,{setCurrentCategory:m}),n.a.createElement("div",{className:z.a.productContainer},l&&l.map((e,r)=>n.a.createElement(w,{key:r,good:e,goods:l,favourites:o,setFavourites:c,cart:t,setCart:a})))))}var K=t(196),V=t(31),Y=t.n(V),q=t(94),Q=t.n(q);var W=e=>{const{favourites:a,setFavourites:t,cart:c,setCart:o}=e,[s,m]=Object(r.useState)(),_=Object(i.f)();return Object(r.useEffect)(()=>{u.a.get("https://fakestoreapi.com/products/".concat(_.id)).then(e=>e.data).then(e=>m(e))},[]),n.a.createElement(p.a,{className:Y.a.card},n.a.createElement("div",{className:Y.a.headerContainer},n.a.createElement(l.b,{to:"/"},n.a.createElement(Q.a,{className:Y.a.arrowBack})),n.a.createElement(K.a,{title:null===s||void 0===s?void 0:s.title})),n.a.createElement("div",{className:Y.a.container},n.a.createElement("div",{className:Y.a.imageContainer},n.a.createElement("img",{src:null===s||void 0===s?void 0:s.image,alt:null===s||void 0===s?void 0:s.title,className:Y.a.image})),n.a.createElement(v.a,null,n.a.createElement(C.a,{className:Y.a.textInfo,variant:"h6",color:"text.secondary"},"\u0426\u0435\u043d\u0430: ",null===s||void 0===s?void 0:s.price),n.a.createElement(C.a,{className:Y.a.textInfo,variant:"body2",color:"text.secondary"},null===s||void 0===s?void 0:s.description),n.a.createElement(d.a,{component:"fieldset",mb:3},n.a.createElement(C.a,{component:"legend"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433:"),n.a.createElement(f.a,{name:"read-only",value:(null===s||void 0===s?void 0:s.rating.rate)||0,readOnly:!0})),n.a.createElement(C.a,{className:Y.a.textInfo,variant:"subtitle2",color:"text.secondary"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438: ",null===s||void 0===s?void 0:s.rating.count),n.a.createElement("div",null,s&&n.a.createElement(I,{good:s,goods:[],setCart:o,cart:c}),s&&n.a.createElement(M,{good:s,goods:[],setFavourites:t,favourites:a})))))},X=t(191),H=t(192),R=t(190),D=t(180),G=t(185),L=t(97),Z=t.n(L),U=t(39),$=t.n(U),ee=t(179),ae=t(177),te=t(197),re=t(198),ne=t(96),ce=t.n(ne),oe=t(95),le=t.n(oe),ie=t(48),se=t.n(ie);var me=e=>{const{cartModalOpen:a,setCartModalOpen:t,cart:r,setCart:c}=e;function o(e){return r.filter(a=>a.id===e).length}const l=new Set;return n.a.createElement(ee.a,{open:a,onClose:()=>{t(!1)}},n.a.createElement(ae.a,null,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"),n.a.createElement(te.a,null,r.map(e=>l.has(e.id)?n.a.createElement(n.a.Fragment,null):(l.add(e.id),n.a.createElement("div",{className:se.a.container,key:e.id},n.a.createElement("div",{className:se.a.imageContainer},n.a.createElement("img",{className:se.a.image,src:e.image,alt:e.title})),n.a.createElement("p",null,e.title),n.a.createElement("div",{className:se.a.price\u0421ontainer},n.a.createElement("p",null,"\u0426\u0435\u043d\u0430: ",function(e){return parseFloat((e.price*o(e.id)).toFixed(2))}(e)),n.a.createElement("div",{className:se.a.quantityContainer},n.a.createElement(R.a,{onClick:()=>{!function(e){const a=[...r],t=a.findIndex(a=>a.id===e.id);-1!==t&&(a.splice(t,1)[0],c([...a]),localStorage.setItem("cart",JSON.stringify([...a])))}(e)}},n.a.createElement(le.a,null)),o(e.id),n.a.createElement(R.a,{onClick:()=>{!function(e){c([...r,e]),localStorage.setItem("cart",JSON.stringify([...r,e]))}(e)}},n.a.createElement(ce.a,null)))))))),n.a.createElement(re.a,null,n.a.createElement(O.a,{onClick:()=>{t(!1)},color:"primary"},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")))};var de=e=>{const{favourites:a,cart:t,setCart:c}=e,[o,i]=Object(r.useState)(!1);return n.a.createElement(d.a,{className:$.a.container},n.a.createElement(X.a,{className:$.a.appBar},n.a.createElement(H.a,null,n.a.createElement(C.a,{variant:"h6"},n.a.createElement(l.b,{className:$.a.linkHome,to:"/"},"ShopEProject")),n.a.createElement("div",{className:$.a.search},n.a.createElement("div",{className:$.a.iconWrapper},n.a.createElement(Z.a,null)),n.a.createElement(D.a,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"},className:$.a.inputBase})),n.a.createElement(d.a,{className:$.a.saveContainer},n.a.createElement(R.a,{onClick:()=>{t.length>0?i(!0):i(!1)},size:"large",color:"inherit"},n.a.createElement(G.a,{badgeContent:t.length,color:"error"},n.a.createElement(y.a,null))),n.a.createElement(R.a,{size:"large",color:"inherit"},n.a.createElement(G.a,{badgeContent:a.length,color:"error"},n.a.createElement(j.a,null)))))),n.a.createElement(me,{cartModalOpen:o,setCartModalOpen:i,cart:t,setCart:c}))};var ue=()=>{const[e,a]=Object(r.useState)([]),[t,c]=Object(r.useState)([]);return n.a.createElement("div",{style:{maxWidth:1170}},n.a.createElement(l.a,null,n.a.createElement(de,{favourites:e,cart:t,setCart:c}),n.a.createElement(i.c,null,n.a.createElement(i.a,{path:"/",exact:!0,render:r=>n.a.createElement(A,Object.assign({},r,{favourites:e,setFavourites:a,cart:t,setCart:c}))}),n.a.createElement(i.a,{path:"/product/:id",render:r=>n.a.createElement(W,Object.assign({},r,{favourites:e,setFavourites:a,cart:t,setCart:c}))}))))};o.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(ue,null)))},31:function(e,a,t){e.exports={card:"ProductCard_card__1VXVZ",image:"ProductCard_image__2x8kR",backButton:"ProductCard_backButton__2DnhG",container:"ProductCard_container__hKmxm",headerContainer:"ProductCard_headerContainer__3MJQ0",arrowBack:"ProductCard_arrowBack__2xOG_",imageContainer:"ProductCard_imageContainer__3tLdv",textInfo:"ProductCard_textInfo__32rrK"}},39:function(e,a,t){e.exports={container:"TopBar_container__1IfYr",search:"TopBar_search__1YgRP",iconWrapper:"TopBar_iconWrapper__1iAx8",inputBase:"TopBar_inputBase__3qcrp",input:"TopBar_input__3cXtJ",appBar:"TopBar_appBar__1048m",saveContainer:"TopBar_saveContainer__2EBXK",linkHome:"TopBar_linkHome__3Q218"}},42:function(e,a,t){e.exports={card:"Product_card__2lP2_",imageContainer:"Product_imageContainer__305mE",image:"Product_image__1YptX",cardContent:"Product_cardContent__2ESsv",ratingContainer:"Product_ratingContainer__botgz",description:"Product_description__24P7P",iconButtonContainer:"Product_iconButtonContainer__6KAz1"}},48:function(e,a,t){e.exports={container:"CartModal_container__KY0Q0",imageContainer:"CartModal_imageContainer__17_AV",image:"CartModal_image__1SNBT","price\u0421ontainer":"CartModal_price\u0421ontainer__3JhIY",quantityContainer:"CartModal_quantityContainer__1FtDc"}},73:function(e,a,t){e.exports={categories:"Categories_categories__28dSd",tabs:"Categories_tabs__34hoz"}},74:function(e,a,t){e.exports={cartIcon:"CartButton_cartIcon__2c05E",active:"CartButton_active__1_AyF"}},75:function(e,a,t){e.exports={favoriteIcon:"FavouritesButton_favoriteIcon__2yzS8",active:"FavouritesButton_active__1V-sQ"}},93:function(e,a,t){e.exports={productContainer:"Catalog_productContainer__2_grv"}}},[[110,1,2]]]);
//# sourceMappingURL=main.9dcca6f0.chunk.js.map